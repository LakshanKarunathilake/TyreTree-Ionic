<!--
  Generated template for the TyreHouseAddPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary"> <ion-title>Buss Add</ion-title> </ion-navbar>
</ion-header>

<ion-content>
  <ion-fab top right edge>
    <button ion-fab clear>
      <ion-icon name="more" color="danger"></ion-icon>
    </button>
    <ion-fab-list>
      <button ion-fab (click)="moveToHomePage()">
        <ion-icon name="home"></ion-icon>
      </button>
      <button ion-fab (click)="logOut()">
        <ion-icon name="log-out"></ion-icon>
      </button>
    </ion-fab-list>
  </ion-fab>
  <form [formGroup]="busAddForm">
    <mat-form-field style="width: 100%" padding>
      <input matInput placeholder="Bus Number" formControlName="busNumber" />
      <mat-error *ngIf="hasError('busNumber', 'required')">Bus Number is required</mat-error>
    </mat-form-field>
    <mat-accordion>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title> Front Wheels </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-form-field style="width: 100%">
          <input
            type="text"
            placeholder="Front Left Tyre Number"
            aria-label="Number"
            matInput
            formControlName="frontLeft"
            [matAutocomplete]="frontLeft"
            (focus)="onFocusEvent('frontLeft')"
          />
          <mat-autocomplete autoActiveFirstOption #frontLeft="matAutocomplete">
            <mat-option *ngFor="let tyre of tyreNumberOptions" [value]="tyre">
              {{ tyre }}
            </mat-option>
          </mat-autocomplete>
          <mat-error *ngIf="hasError('frontLeft', 'required')">Front left Number is required</mat-error>
        </mat-form-field>
        <mat-form-field style="width: 100%">
          <input
            type="text"
            placeholder="Front Right Tyre Number"
            aria-label="Number"
            matInput
            formControlName="frontRight"
            [matAutocomplete]="frontRight"
            (focus)="onFocusEvent('frontRight')"
          />
          <mat-autocomplete #frontRight="matAutocomplete">
            <mat-option *ngFor="let tyre of tyreNumberOptions" [value]="tyre">
              {{ tyre }}
            </mat-option>
          </mat-autocomplete>
          <mat-error *ngIf="hasError('frontRight', 'required')">Tyre Number is required</mat-error>
        </mat-form-field>
      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title> Rear Wheels </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-form-field style="width: 100%">
          <input
            type="text"
            placeholder="Rear Left outer Tyre Number"
            aria-label="Number"
            matInput
            formControlName="rearLeftOuter"
            [matAutocomplete]="rearLeftOuter"
            (focus)="onFocusEvent('rearLeftOuter')"
          />
          <mat-autocomplete #rearLeftOuter="matAutocomplete">
            <mat-option *ngFor="let tyre of tyreNumberOptions" [value]="tyre">
              {{ tyre }}
            </mat-option>
          </mat-autocomplete>
          <mat-error *ngIf="hasError('rearLeftOuter', 'required')">Tyre Number is required</mat-error>
        </mat-form-field>

        <mat-form-field style="width: 100%">
          <input
            type="text"
            placeholder="Rear Left Inner Tyre Number"
            aria-label="Number"
            matInput
            formControlName="rearLeftInner"
            (focus)="onFocusEvent('rearLeftInner')"
            [matAutocomplete]="rearLeftOuter"
          />
          <mat-autocomplete #rearLeftOuter="matAutocomplete">
            <mat-option *ngFor="let tyre of tyreNumberOptions" [value]="tyre">
              {{ tyre }}
            </mat-option>
          </mat-autocomplete>
          <mat-error *ngIf="hasError('rearLeftInner', 'required')">Tyre Number is required</mat-error>
        </mat-form-field>
        <mat-form-field style="width: 100%">
          <input
            type="text"
            placeholder="Rear Right outer Tyre Number"
            aria-label="Number"
            matInput
            formControlName="rearRightOuter"
            (focus)="onFocusEvent('rearRightOuter')"
            [matAutocomplete]="rearRightOuter"
          />
          <mat-autocomplete #rearRightOuter="matAutocomplete">
            <mat-option *ngFor="let tyre of tyreNumberOptions" [value]="tyre">
              {{ tyre }}
            </mat-option>
          </mat-autocomplete>
          <mat-error *ngIf="hasError('rearRightOuter', 'required')">Tyre Number is required</mat-error>
        </mat-form-field>
        <mat-form-field style="width: 100%">
          <input
            type="text"
            placeholder="Rear Right inner Tyre Number"
            aria-label="Number"
            matInput
            (focus)="onFocusEvent('rearRightInner')"
            formControlName="rearRightInner"
            [matAutocomplete]="rearRightInner"
          />
          <mat-autocomplete #rearRightInner="matAutocomplete">
            <mat-option *ngFor="let tyre of tyreNumberOptions" [value]="tyre">
              {{ tyre }}
            </mat-option>
          </mat-autocomplete>
          <mat-error *ngIf="hasError('rearRightInner', 'required')">Tyre Number is required</mat-error>
        </mat-form-field>
      </mat-expansion-panel>
    </mat-accordion>

    <button
      ion-button
      block
      color="danger"
      type="submit"
      (click)="saveBusDetails()"
      style="bottom: 5px;position: absolute ;"
    >
      Save
    </button>
  </form>
</ion-content>
<ion-footer padding> </ion-footer>
